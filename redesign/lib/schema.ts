export const schema = "{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"title\": \"Constitutional Fidelity Index - Complete Evaluation Output Schema\",\n  \"description\": \"Schema for the complete evaluation output of a single government action, including classifier input, per-lens evaluations, and aggregated results\",\n  \"type\": \"object\",\n  \"required\": [\"metadata\", \"classifierOutput\", \"lensOutputs\", \"aggregatedOutput\"],\n  \"properties\": {\n    \"metadata\": {\n      \"type\": \"object\",\n      \"description\": \"Metadata about the evaluation\",\n      \"required\": [\"actionId\", \"actionTitle\", \"evaluationTimestamp\", \"modelVersion\"],\n      \"properties\": {\n        \"actionId\": {\n          \"type\": \"string\",\n          \"description\": \"Unique identifier for the government action being evaluated\"\n        },\n        \"actionTitle\": {\n          \"type\": \"string\",\n          \"description\": \"Human-readable title of the action\"\n        },\n        \"actionDescription\": {\n          \"type\": \"string\",\n          \"description\": \"Detailed description of the government action\"\n        },\n        \"evaluationTimestamp\": {\n          \"type\": \"string\",\n          \"format\": \"date-time\",\n          \"description\": \"ISO 8601 timestamp of when the evaluation was performed\"\n        },\n        \"modelVersion\": {\n          \"type\": \"string\",\n          \"description\": \"Version of the CFI model used\"\n        },\n        \"evaluationContext\": {\n          \"type\": \"object\",\n          \"description\": \"Optional context about the evaluation\",\n          \"properties\": {\n            \"jurisdiction\": { \"type\": \"string\" },\n            \"actionType\": { \"type\": \"string\" },\n            \"relatedActions\": {\n              \"type\": \"array\",\n              \"items\": { \"type\": \"string\" }\n            }\n          }\n        }\n      }\n    },\n    \"classifierOutput\": {\n      \"type\": \"object\",\n      \"description\": \"Output from the initial classifier that identifies relevant constitutional dimensions\",\n      \"required\": [\"actionSummary\", \"relevantDimensions\", \"confidenceScore\"],\n      \"properties\": {\n        \"actionSummary\": {\n          \"type\": \"string\",\n          \"description\": \"Classifier's summary of the action\"\n        },\n        \"relevantDimensions\": {\n          \"type\": \"array\",\n          \"description\": \"List of dimensions identified as relevant by the classifier\",\n          \"items\": {\n            \"type\": \"object\",\n            \"required\": [\"dimensionCode\", \"dimensionName\", \"relevanceScore\"],\n            \"properties\": {\n              \"dimensionCode\": {\n                \"type\": \"string\",\n                \"description\": \"Code identifying the constitutional dimension\"\n              },\n              \"dimensionName\": {\n                \"type\": \"string\",\n                \"description\": \"Human-readable name of the dimension\"\n              },\n              \"relevanceScore\": {\n                \"type\": \"number\",\n                \"minimum\": 0,\n                \"maximum\": 1,\n                \"description\": \"Initial relevance score assigned by classifier\"\n              }\n            }\n          }\n        },\n        \"confidenceScore\": {\n          \"type\": \"number\",\n          \"minimum\": 0,\n          \"maximum\": 1,\n          \"description\": \"Overall confidence of the classifier in its assessment\"\n        }\n      }\n    },\n    \"lensOutputs\": {\n      \"type\": \"array\",\n      \"description\": \"Array of outputs from the 6 lens agents\",\n      \"minItems\": 6,\n      \"maxItems\": 6,\n      \"items\": {\n        \"type\": \"object\",\n        \"required\": [\"lensId\", \"lensName\", \"dimensionEvaluations\", \"narrative\"],\n        \"properties\": {\n          \"lensId\": {\n            \"type\": \"integer\",\n            \"enum\": [1, 2, 3, 4, 5, 6],\n            \"description\": \"Identifier for the lens: 1=Textualist, 2=Originalist, 3=Doctrinalist, 4=Living Constitutionalist, 5=Pragmatist, 6=Steelman Advocate\"\n          },\n          \"lensName\": {\n            \"type\": \"string\",\n            \"enum\": [\"Textualist\", \"Originalist\", \"Doctrinalist\", \"Living Constitutionalist\", \"Pragmatist\", \"Steelman Advocate\"],\n            \"description\": \"Name of the constitutional interpretation lens\"\n          },\n          \"dimensionEvaluations\": {\n            \"type\": \"array\",\n            \"description\": \"Evaluation of each dimension through this lens\",\n            \"items\": {\n              \"type\": \"object\",\n              \"required\": [\"dimensionCode\", \"dimensionName\", \"score\", \"relevance\", \"confidence\", \"citation\", \"justification\", \"counterargument\"],\n              \"properties\": {\n                \"dimensionCode\": {\n                  \"type\": \"string\",\n                  \"description\": \"Code identifying the constitutional dimension\"\n                },\n                \"dimensionName\": {\n                  \"type\": \"string\",\n                  \"description\": \"Human-readable name of the dimension\"\n                },\n                \"score\": {\n                  \"type\": \"integer\",\n                  \"enum\": [-2, -1, 0, 1, 2],\n                  \"description\": \"Alignment score: -2=Clear violation, -1=Likely violation, 0=Neutral, 1=Likely aligned, 2=Clear alignment\"\n                },\n                \"relevance\": {\n                  \"type\": \"number\",\n                  \"minimum\": 0,\n                  \"maximum\": 1,\n                  \"description\": \"Relevance of this dimension to the action (0=not relevant, 1=highly relevant)\"\n                },\n                \"confidence\": {\n                  \"type\": \"string\",\n                  \"enum\": [\"High\", \"Medium\", \"Low\"],\n                  \"description\": \"Confidence level in this evaluation\"\n                },\n                \"citation\": {\n                  \"type\": \"object\",\n                  \"required\": [\"text\", \"tier\"],\n                  \"description\": \"Constitutional source supporting this evaluation\",\n                  \"properties\": {\n                    \"text\": {\n                      \"type\": \"string\",\n                      \"description\": \"The constitutional text or principle cited\"\n                    },\n                    \"tier\": {\n                      \"type\": \"string\",\n                      \"enum\": [\"1\", \"2\", \"3A\", \"3B\", \"4\"],\n                      \"description\": \"Authority tier: 1=Ratified Constitutional Law, 2=Founding Interpretive Context, 3A=Constitutional Legislation, 3B=Judicial Precedent (Descriptive, Tagged), 4=Comparative Democratic Evidence\"\n                    }\n                  }\n                },\n                \"justification\": {\n                  \"type\": \"string\",\n                  \"description\": \"2-3 sentence explanation of the score (why this action aligns or violates this dimension)\"\n                },\n                \"counterargument\": {\n                  \"type\": \"string\",\n                  \"description\": \"The strongest argument against this score from an alternative constitutional perspective\"\n                }\n              }\n            }\n          },\n          \"narrative\": {\n            \"type\": \"string\",\n            \"description\": \"Comprehensive 1-2 paragraph analysis of the action from this lens's perspective, synthesizing across all relevant dimensions\"\n          }\n        }\n      }\n    },\n    \"aggregatedOutput\": {\n      \"type\": \"object\",\n      \"description\": \"Final aggregated results from the 6-step aggregation procedure\",\n      \"required\": [\"floor\", \"floorDetails\", \"alignmentScore\", \"dimensionScores\", \"steelmanDelta\", \"brief\"],\n      \"properties\": {\n        \"floor\": {\n          \"type\": \"string\",\n          \"enum\": [\"VIOLATION\", \"CAUTION\", \"CLEAR\"],\n          \"description\": \"Constitutional floor assessment: VIOLATION (≥3 lenses score -2 on any dimension), CAUTION (≥3 lenses score -1 on any dimension), CLEAR (otherwise)\"\n        },\n        \"floorDetails\": {\n          \"type\": \"array\",\n          \"description\": \"Details on dimensions that triggered VIOLATION or CAUTION\",\n          \"items\": {\n            \"type\": \"object\",\n            \"required\": [\"dimension\", \"severity\", \"count\"],\n            \"properties\": {\n              \"dimension\": {\n                \"type\": \"string\",\n                \"description\": \"The dimension code that triggered the floor level\"\n              },\n              \"severity\": {\n                \"type\": \"string\",\n                \"enum\": [-2, -1],\n                \"description\": \"The severity of the violation (-2 for violations, -1 for cautions)\"\n              },\n              \"count\": {\n                \"type\": \"integer\",\n                \"minimum\": 3,\n                \"description\": \"Number of lenses that assigned this severity score\"\n              }\n            }\n          }\n        },\n        \"alignmentScore\": {\n          \"type\": \"number\",\n          \"minimum\": 0,\n          \"maximum\": 100,\n          \"description\": \"Overall Constitutional Fidelity Index score on 0-100 scale\"\n        },\n        \"dimensionScores\": {\n          \"type\": \"object\",\n          \"description\": \"Per-dimension aggregation results\",\n          \"additionalProperties\": {\n            \"type\": \"object\",\n            \"required\": [\"meanScore\", \"meanRelevance\", \"isRelevant\", \"variance\", \"isContested\"],\n            \"properties\": {\n              \"meanScore\": {\n                \"type\": \"number\",\n                \"minimum\": -2,\n                \"maximum\": 2,\n                \"description\": \"Mean score across evaluative lenses for this dimension\"\n              },\n              \"meanRelevance\": {\n                \"type\": \"number\",\n                \"minimum\": 0,\n                \"maximum\": 1,\n                \"description\": \"Mean relevance across all 6 lenses for this dimension\"\n              },\n              \"isRelevant\": {\n                \"type\": \"boolean\",\n                \"description\": \"Whether this dimension was included in aggregation (mean relevance ≥ 0.2)\"\n              },\n              \"variance\": {\n                \"type\": \"number\",\n                \"minimum\": 0,\n                \"description\": \"Variance of scores across evaluative lenses (higher = more disagreement)\"\n              },\n              \"isContested\": {\n                \"type\": \"boolean\",\n                \"description\": \"Whether lenses disagreed significantly on this dimension (variance > 1.0)\"\n              },\n              \"lensScores\": {\n                \"type\": \"array\",\n                \"description\": \"Individual scores from each lens for transparency\",\n                \"items\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"lensId\": { \"type\": \"integer\" },\n                    \"score\": { \"type\": \"integer\" },\n                    \"relevance\": { \"type\": \"number\" }\n                  }\n                }\n              }\n            }\n          }\n        },\n        \"steelmanDelta\": {\n          \"type\": \"number\",\n          \"minimum\": -100,\n          \"maximum\": 100,\n          \"description\": \"Difference in alignment score if Steelman lens's scores replaced evaluative lenses' mean (normalized to -100 to 100 scale)\"\n        },\n        \"brief\": {\n          \"type\": \"string\",\n          \"description\": \"2-3 paragraph plain-language summary of the evaluation, explaining the floor level, key findings, contested dimensions, and overall recommendation\"\n        },\n        \"aggregationMetrics\": {\n          \"type\": \"object\",\n          \"description\": \"Optional detailed metrics from the aggregation process\",\n          \"properties\": {\n            \"relevanceThreshold\": {\n              \"type\": \"number\",\n              \"description\": \"Threshold used for filtering relevant dimensions\"\n            },\n            \"varianceThreshold\": {\n              \"type\": \"number\",\n              \"description\": \"Threshold used for flagging contested dimensions\"\n            },\n            \"totalDimensions\": {\n              \"type\": \"integer\",\n              \"description\": \"Total dimensions evaluated\"\n            },\n            \"relevantDimensions\": {\n              \"type\": \"integer\",\n              \"description\": \"Number of dimensions meeting relevance threshold\"\n            },\n            \"contestedDimensions\": {\n              \"type\": \"integer\",\n              \"description\": \"Number of dimensions with high variance across lenses\"\n            }\n          }\n        }\n      }\n    }\n  }\n}\n";